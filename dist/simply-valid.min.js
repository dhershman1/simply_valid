!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.simplyValid=n()}(this,function(){"use strict";function t(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=function t(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return n.length<=r.length?n.apply(void 0,r):function(){for(var e=arguments.length,i=new Array(e),u=0;u<e;u++)i[u]=arguments[u];return t.apply(void 0,[n].concat(r,i))}},e=function(t){return/[0-9]/.test(t)},r=function(t){return/\W/.test(t)},i=function(t){for(var n=[0,2,4,6,8,1,3,5,7,9],e=String(t),r=e.length,i=1,u=0,o=0;r;)o=parseInt(e.charAt(--r),10),u+=(i^=1)?n[o]:o;return u&&u%10==0},u=n(function(t,n){return t.minLen?n.length>=t.minLen:n.length>=t}),o=n(function(t,n){return t.maxLen?n.length<=t.maxLen:n.length<=t}),a=n(function(t,n){var e=t.maxLen,r=t.minLen;return u(r,n)&&o(e,n)}),s=function(t){return/^((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))[-/.]?(([1-2]{1}[0-9]{3})|([0-9]{2}))$/m.test(t)},c=function(t){return/^((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))[-/.]?$/m.test(t)},f=function(t){return/^(([1-2]{1}[0-9]{3})|([0-9]{2}))[-/.]?((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))$/m.test(t)},l=function(t){return/^\d{5}(-\d{4})?$/.test(t)},h=function(t){return/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/i.test(t)},m=n(function(t,n){return t?i(n):/^4[0-9]{15}$/.test(n)}),d=n(function(t,n){return t?i(n):/^4[0-9]{18}$/.test(n)}),p=n(function(t,n){return t?i(n):/^5[1-5][0-9]{14}$/.test(n)}),v=n(function(t,n){return t?i(n):/^3(4|7)[0-9]{13}$/.test(n)}),g=n(function(t,n){return t?i(n):/^6[0-9]{15}$/.test(n)}),N=n(function(t,n){return null!=t.max?!isNaN(n)&&Number(n)<t.max:!isNaN(n)&&Number(n)<t}),y=n(function(t,n){return null!=t.min?!isNaN(n)&&Number(n)>t.min:!isNaN(n)&&Number(n)>t}),b=n(function(t,n){var e=t.min,r=t.max;return!isNaN(n)&&Number(n)>=e&&Number(n)<=r}),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 3===t.length&&/[0-9]/.test(t)},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 4===t.length&&/[0-9]/.test(t)},w=function(t,n){for(var e=0,r=n.length;e<r;e++)if(n[e](t))return!0;return!1},j=Object.freeze({hasValue:function(t){return 0===t||Boolean(t)},hasNumbers:e,hasLetters:function(t){return/[A-Z]/i.test(t)},hasSpecialCharacters:r,hasNumbersOrSpecials:function(t){return e(t)||r(t)},hasUpperAndLowerCase:function(t){return/[A-Z]/.test(t)&&/[a-z]/.test(t)},isNotTooShort:u,isNotTooLong:o,isCorrectLength:a,isDate:s,isDateShort:c,isDateProper:f,isEmail:function(t){return/^[\w\u00c0-\u017f][\w.-_\u00c0-\u017f]*[\w\u00c0-\u017f]+[@][\w\u00c0-\u017f][\w.-_\u00c0-\u017f]*[\w\u00c0-\u017f]+\.[a-z]{2,4}$/i.test(t)},isNumber:function(t){return!isNaN(t)},isPositive:function(t){return!isNaN(t)&&Number(t)>=0},isNegative:function(t){return!isNaN(t)&&Number(t)<0},isVin:function(t){return/^[a-hj-npr-z0-9]{9}[a-hj-npr-tv-y1-9]{1}[a-hj-npr-z0-9]{7}$/i.test(t)},isZip:l,isCAPostalCode:h,isPhone:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^[0-9]{10}$/.test(t.replace(/\W/g,""))},isLicensePlate:function(t){return/^([A-Z]|[0-9]){1,3}(\s|-|â€¢)?([A-Z]|[0-9]){3,5}$/i.test(t)},isVisaCard:m,isVisaPanCard:d,isMasterCard:p,isAmexCard:v,isDiscoverCard:g,isBelowMax:N,isAboveMin:y,meetsMinMax:b,meetsYearStandard:function(t){return/(^[0-9]{2}$)|(^[1-2]{1}[0-9]{3}$)/.test(t)},meetsCVN:A,meetsCVNAmex:$,meetsTreadDepth:function(t){return/^(([0-1]?[0-9]|2[0-1])(\.[0-9])?|22)$/i.test(t)},meetsPassReq:function(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}$/.test(t)},noSpecials:function(){return null===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/\W/)},noNumbers:function(){return null===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/[0-9]/)},noLetters:function(){return null===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").match(/[A-Z]/i)},creditCard:function(t){return w(t,[v(!0),g(!0),p(!0),m(!0)])},date:function(t){return w(t,[s,c,f])},cvn:function(t){return w(t,[A,$])},zipOrPostal:function(t){return w(t,[l,h])}}),C=function(t){return"[object Object]"===Object.prototype.toString.call(t)},L=function(t){return Array.isArray(t)?t:void 0===t?[]:[t]},x=function(n,e,r){var i=[],u=L(e);return L(n).forEach(function(n){var e=u.reduce(function(t,e){return r[e](n)||t.push({test:e,value:n}),t},[]);i.push.apply(i,t(e))}),{isValid:!i.length,story:i}};return n(function(n,e){var r,i,u,o={schema:[],strictCard:!1,max:1/0,min:-1/0,maxLen:100,minLen:1},a=Object.keys(n).reduce(function(t,e){return t[e]&&(t[e]=n[e]),t},o),s=function(t,n){return Object.keys(t).reduce(function(e,r){return"function"==typeof t[r]()?e[r]=t[r](n):e[r]=t[r],e},{})}(j,a);if(r=a.schema,console.log(r),!(Array.isArray(r)&&r.length||C(r)&&Object.keys(r).length||Boolean(r.length)))throw new Error("The schema is either invalid or one was not provided for validation");return C(e)?(i=function t(n,e,r){return Object.keys(n).reduce(function(i,u){var o=n[u];return C(o)?i.concat(t(o,e[u],r)):i.concat([x(o,e[u],r)])},[])}(e,a.schema,s),(u=i.reduce(function(n,e){var r,i=e.isValid,u=e.story;return i||(r=n.story).push.apply(r,t(u)),n},{isValid:!0,story:[]})).isValid=!u.story.length,u):x(e,a.schema,s)})});
