!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("kyanite/curry"),require("kyanite/type"),require("kyanite/ensureArray")):"function"==typeof define&&define.amd?define(["kyanite/curry","kyanite/type","kyanite/ensureArray"],e):t.simplyValid=e(t.curry,t.type,t.ensureArray)}(this,function(t,f,n){"use strict";function l(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t=t&&t.hasOwnProperty("default")?t.default:t,f=f&&f.hasOwnProperty("default")?f.default:f,n=n&&n.hasOwnProperty("default")?n.default:n;var e=function(t){return/[0-9]/.test(t)},r=function(t){return/\W/.test(t)},u=function(t){for(var e=[0,2,4,6,8,1,3,5,7,9],n=String(t),r=n.length,u=1,i=0,a=0;r;)a=parseInt(n.charAt(--r),10),i+=(u^=1)?e[a]:a;return i&&i%10==0},i=t(function(t,e){return t.minLen?e.length>=t.minLen:e.length>=t}),a=t(function(t,e){return t.maxLen?e.length<=t.maxLen:e.length<=t}),o=t(function(t,e){var n=t.maxLen,r=t.minLen;return i(r,e)&&a(n,e)}),s=function(t){return/^((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))[-/.]?(([1-2]{1}[0-9]{3})|([0-9]{2}))$/m.test(t)},c=function(t){return/^((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))[-/.]?$/m.test(t)},d=function(t){return/^(([1-2]{1}[0-9]{3})|([0-9]{2}))[-/.]?((1[0-2])|(0?[1-9]))[-/.]?((0?[1-9])|([1-2][0-9])|(3[0-1]))$/m.test(t)},m=function(t){return/^\d{5}(-\d{4})?$/.test(t)},h=function(t){return/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/i.test(t)},y=t(function(t,e){return t?u(e):/^4[0-9]{15}$/.test(e)}),p=t(function(t,e){return t?u(e):/^4[0-9]{18}$/.test(e)}),N=t(function(t,e){return t?u(e):/^5[1-5][0-9]{14}$/.test(e)}),v=t(function(t,e){return t?u(e):/^3(4|7)[0-9]{13}$/.test(e)}),b=t(function(t,e){return t?u(e):/^6[0-9]{15}$/.test(e)}),g=t(function(t,e){return null!=t.max?!isNaN(e)&&Number(e)<t.max:!isNaN(e)&&Number(e)<t}),A=t(function(t,e){return null!=t.min?!isNaN(e)&&Number(e)>t.min:!isNaN(e)&&Number(e)>t}),$=t(function(t,e){var n=t.min,r=t.max;return!isNaN(e)&&Number(e)>=n&&Number(e)<=r}),w=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return 3===t.length&&/[0-9]/.test(t)},j=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return 4===t.length&&/[0-9]/.test(t)},C=function(t,e){return t.some(function(t){return t(e)})},L=Object.freeze({hasValue:function(t){return 0===t||Boolean(t)},hasNumbers:e,hasLetters:function(t){return/[A-Z]/i.test(t)},hasSpecialCharacters:r,hasNumbersOrSpecials:function(t){return e(t)||r(t)},hasUpperAndLowerCase:function(t){return/[A-Z]/.test(t)&&/[a-z]/.test(t)},isNotTooShort:i,isNotTooLong:a,isCorrectLength:o,isDate:s,isDateShort:c,isDateProper:d,isEmail:function(t){return/^[\w\u00c0-\u017f][\w.-_\u00c0-\u017f]*[\w\u00c0-\u017f]+[@][\w\u00c0-\u017f][\w.-_\u00c0-\u017f]*[\w\u00c0-\u017f]+\.[a-z]{2,4}$/i.test(t)},isNumber:function(t){return!isNaN(t)},isPositive:function(t){return!isNaN(t)&&0<=Number(t)},isNegative:function(t){return!isNaN(t)&&Number(t)<0},isVin:function(t){return/^[a-hj-npr-z0-9]{9}[a-hj-npr-tv-y1-9]{1}[a-hj-npr-z0-9]{7}$/i.test(t)},isZip:m,isCAPostalCode:h,isPhone:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return/^[0-9]{10}$/.test(t.replace(/\W/g,""))},isLicensePlate:function(t){return/^([A-Z]|[0-9]){1,3}(\s|-|â€¢)?([A-Z]|[0-9]){3,5}$/i.test(t)},isVisaCard:y,isVisaPanCard:p,isMasterCard:N,isAmexCard:v,isDiscoverCard:b,isBelowMax:g,isAboveMin:A,meetsMinMax:$,meetsYearStandard:function(t){return/(^[0-9]{2}$)|(^[1-2]{1}[0-9]{3}$)/.test(t)},meetsCVN:w,meetsCVNAmex:j,meetsTreadDepth:function(t){return/^(([0-1]?[0-9]|2[0-1])(\.[0-9])?|22)$/i.test(t)},meetsPassReq:function(t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,}$/.test(t)},noSpecials:function(){return null===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").match(/\W/)},noNumbers:function(){return null===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").match(/[0-9]/)},noLetters:function(){return null===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").match(/[A-Z]/i)},creditCard:function(t){return C([v(!0),b(!0),N(!0),y(!0)],t)},date:function(t){return C([s,c,d],t)},cvn:function(t){return C([w,j],t)},zipOrPostal:function(t){return C([m,h],t)}}),O=function(t,e,r){var u=[],i=n(e);return n(t).forEach(function(n){var t=i.reduce(function(t,e){return r[e](n)||t.push({test:e,value:n}),t},[]);u.push.apply(u,l(t))}),{isValid:!u.length,story:u}};return t(function(n,t){var r,u,e,i,a,o={schema:[],strictCard:!1,max:1/0,min:-1/0,maxLen:100,minLen:1},s=Object.keys(n).reduce(function(t,e){return t[e]&&(t[e]=n[e]),t},o),c=(r=L,u=s,Object.keys(r).reduce(function(t,e){return"function"==typeof r[e]()?t[e]=r[e](u):t[e]=r[e],t},{}));if(e=s.schema,!(Array.isArray(e)&&e.length||"Object"===f(e)&&Object.keys(e).length||Boolean(e.length)))throw new Error("The schema is either invalid or one was not provided for validation");return"Object"===f(t)?(i=function r(u,i,a){return Object.keys(u).reduce(function(t,e){var n=u[e];return"Object"===f(n)?t.concat(r(n,i[e],a)):t.concat([O(n,i[e],a)])},[])}(t,s.schema,c),(a=i.reduce(function(t,e){var n,r=e.isValid,u=e.story;return r||(n=t.story).push.apply(n,l(u)),t},{isValid:!0,story:[]})).isValid=!a.story.length,a):O(t,s.schema,c)})});
